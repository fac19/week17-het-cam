{"ast":null,"code":"var _jsxFileName = \"/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/utils/identity-actions.js\";\nimport React from \"react\";\nimport netlifyIdentity from \"netlify-identity-widget\";\nnetlifyIdentity.init();\nexport const IdentityContext = React.createContext();\nexport function IdentityProvider({\n  children\n}) {\n  const [state, setState] = React.useState(\"loading\");\n  React.useEffect(() => {\n    netlifyIdentity.init();\n    const user = netlifyIdentity.currentUser();\n    setState(user ? \"loggedIn\" : \"loggedOut\");\n    netlifyIdentity.on(\"login\", () => {\n      netlifyIdentity.close();\n      setState(\"loggedIn\");\n    });\n    netlifyIdentity.on(\"logout\", () => {\n      netlifyIdentity.close();\n      setState(\"loggedOut\");\n    });\n  }, []);\n  const value = React.useMemo(() => ({\n    state,\n    netlifyIdentity\n  }), [state]);\n  return /*#__PURE__*/React.createElement(IdentityContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, children);\n}\nexport function useIdentity() {\n  const ctx = React.useContext(IdentityContext);\n  if (!ctx) throw new Error(\"useIdentity must be called within an IdentityProvider\");\n  return ctx;\n} // export function loginUser() {\n//   if (netlifyIdentity && netlifyIdentity.currentUser()) {\n//     const {\n//       app_metadata, created_at, confirmed_at, email, id, user_metadata\n//     } = netlifyIdentity.currentUser();\n//     localStorage.setItem(\n//       \"currentOpenSaucedUser\",\n//       JSON.stringify({...app_metadata, created_at, confirmed_at, email, id, ...user_metadata})\n//     );\n//   }\n// }\n// export function logoutUser() {\n//   localStorage.removeItem(\"currentOpenSaucedUser\");\n// }","map":{"version":3,"sources":["/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/utils/identity-actions.js"],"names":["React","netlifyIdentity","init","IdentityContext","createContext","IdentityProvider","children","state","setState","useState","useEffect","user","currentUser","on","close","value","useMemo","useIdentity","ctx","useContext","Error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AAEAA,eAAe,CAACC,IAAhB;AAEA,OAAO,MAAMC,eAAe,GAAGH,KAAK,CAACI,aAAN,EAAxB;AAEP,OAAO,SAASC,gBAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAwC;AAC7C,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,KAAK,CAACS,QAAN,CAAe,SAAf,CAA1B;AAEAT,EAAAA,KAAK,CAACU,SAAN,CAAgB,MAAM;AACpBT,IAAAA,eAAe,CAACC,IAAhB;AACA,UAAMS,IAAI,GAAGV,eAAe,CAACW,WAAhB,EAAb;AACAJ,IAAAA,QAAQ,CAACG,IAAI,GAAG,UAAH,GAAgB,WAArB,CAAR;AAEAV,IAAAA,eAAe,CAACY,EAAhB,CAAmB,OAAnB,EAA4B,MAAM;AAChCZ,MAAAA,eAAe,CAACa,KAAhB;AACAN,MAAAA,QAAQ,CAAC,UAAD,CAAR;AACD,KAHD;AAIAP,IAAAA,eAAe,CAACY,EAAhB,CAAmB,QAAnB,EAA6B,MAAM;AACjCZ,MAAAA,eAAe,CAACa,KAAhB;AACAN,MAAAA,QAAQ,CAAC,WAAD,CAAR;AACD,KAHD;AAID,GAbD,EAaG,EAbH;AAeA,QAAMO,KAAK,GAAGf,KAAK,CAACgB,OAAN,CAAc,OAAO;AAAET,IAAAA,KAAF;AAASN,IAAAA;AAAT,GAAP,CAAd,EAAkD,CAACM,KAAD,CAAlD,CAAd;AACA,sBACE,oBAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAEQ,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,QADH,CADF;AAKD;AAED,OAAO,SAASW,WAAT,GAAuB;AAC5B,QAAMC,GAAG,GAAGlB,KAAK,CAACmB,UAAN,CAAiBhB,eAAjB,CAAZ;AACA,MAAI,CAACe,GAAL,EACE,MAAM,IAAIE,KAAJ,CAAU,uDAAV,CAAN;AACF,SAAOF,GAAP;AACD,C,CAED;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA","sourcesContent":["import React from \"react\";\nimport netlifyIdentity from \"netlify-identity-widget\";\n\nnetlifyIdentity.init();\n\nexport const IdentityContext = React.createContext();\n\nexport function IdentityProvider({ children }) {\n  const [state, setState] = React.useState(\"loading\");\n\n  React.useEffect(() => {\n    netlifyIdentity.init();\n    const user = netlifyIdentity.currentUser();\n    setState(user ? \"loggedIn\" : \"loggedOut\");\n\n    netlifyIdentity.on(\"login\", () => {\n      netlifyIdentity.close();\n      setState(\"loggedIn\");\n    });\n    netlifyIdentity.on(\"logout\", () => {\n      netlifyIdentity.close();\n      setState(\"loggedOut\");\n    });\n  }, []);\n\n  const value = React.useMemo(() => ({ state, netlifyIdentity }), [state]);\n  return (\n    <IdentityContext.Provider value={value}>\n      {children}\n    </IdentityContext.Provider>\n  );\n}\n\nexport function useIdentity() {\n  const ctx = React.useContext(IdentityContext);\n  if (!ctx)\n    throw new Error(\"useIdentity must be called within an IdentityProvider\");\n  return ctx;\n}\n\n// export function loginUser() {\n//   if (netlifyIdentity && netlifyIdentity.currentUser()) {\n//     const {\n//       app_metadata, created_at, confirmed_at, email, id, user_metadata\n//     } = netlifyIdentity.currentUser();\n\n//     localStorage.setItem(\n//       \"currentOpenSaucedUser\",\n//       JSON.stringify({...app_metadata, created_at, confirmed_at, email, id, ...user_metadata})\n//     );\n//   }\n// }\n\n// export function logoutUser() {\n//   localStorage.removeItem(\"currentOpenSaucedUser\");\n// }\n"]},"metadata":{},"sourceType":"module"}