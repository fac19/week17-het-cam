{"ast":null,"code":"var _jsxFileName = \"/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/pages/signUpPage/SignUp.js\";\nimport React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Heading from \"../../components/global/heading/Heading\";\nimport { DropdownCountries, DropdownGender } from \"../../components/global/forms/dropdown/Dropdown\";\nimport DateInput from \"../../components/global/forms/dateInput/DateInput\";\nimport { TextButton } from \"../../components/global/buttons/Buttons\";\nimport { FormContainer, FormInputWrapper } from \"./SignUp.style\";\nimport { AppContext } from \"../../utils/AppContext\";\nimport { postStudent } from \"../../utils/post-data\";\n\nconst SignUp = () => {\n  const {\n    loginInfo,\n    setLoginInfo\n  } = useContext(AppContext);\n  const history = useHistory();\n  const [form, setForm] = React.useState({\n    dob: \"\",\n    gender: \"\",\n    country: \"\"\n  });\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForm({ ...form,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    postStudent(JSON.stringify(form)).then(() => history.push(\"/my-missions\")).catch(console.error);\n  };\n\n  React.useEffect(() => {\n    const token = JSON.parse(localStorage.getItem(\"token\")); // console.log(token.email, token.full_name);\n\n    if (token) {\n      setLoginInfo({\n        email: token.email,\n        name: token.full_name\n      });\n    }\n  }, [setLoginInfo]); // console.log(loginInfo);\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"Before you begin...\"), /*#__PURE__*/React.createElement(FormContainer, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormInputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DateInput, {\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormInputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DropdownCountries, {\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormInputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DropdownGender, {\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(TextButton, {\n    type: \"submit\",\n    text: \"Get started!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }))); // query the airtable to see if we have user's details in our database\n  // if we do not\n  // render the signup p2 form to collect the data\n  // send and save the data on the airtable\n  // if we do have the details\n  // redirect to the mission page\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/pages/signUpPage/SignUp.js"],"names":["React","useContext","useHistory","Heading","DropdownCountries","DropdownGender","DateInput","TextButton","FormContainer","FormInputWrapper","AppContext","postStudent","SignUp","loginInfo","setLoginInfo","history","form","setForm","useState","dob","gender","country","handleChange","event","name","value","target","handleSubmit","preventDefault","JSON","stringify","then","push","catch","console","error","useEffect","token","parse","localStorage","getItem","email","full_name"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Heading from \"../../components/global/heading/Heading\";\nimport {\n  DropdownCountries,\n  DropdownGender,\n} from \"../../components/global/forms/dropdown/Dropdown\";\nimport DateInput from \"../../components/global/forms/dateInput/DateInput\";\nimport { TextButton } from \"../../components/global/buttons/Buttons\";\nimport { FormContainer, FormInputWrapper } from \"./SignUp.style\";\nimport { AppContext } from \"../../utils/AppContext\";\nimport { postStudent } from \"../../utils/post-data\";\n\nconst SignUp = () => {\n  const { loginInfo, setLoginInfo } = useContext(AppContext);\n\n  const history = useHistory();\n\n  const [form, setForm] = React.useState({\n    dob: \"\",\n    gender: \"\",\n    country: \"\",\n  });\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setForm({ ...form, [name]: value });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    postStudent(JSON.stringify(form))\n      .then(() => history.push(\"/my-missions\"))\n      .catch(console.error);\n  };\n\n  React.useEffect(() => {\n    const token = JSON.parse(localStorage.getItem(\"token\"));\n    // console.log(token.email, token.full_name);\n\n    if (token) {\n      setLoginInfo({\n        email: token.email,\n        name: token.full_name,\n      });\n    }\n  }, [setLoginInfo]);\n\n  // console.log(loginInfo);\n\n  return (\n    <>\n      <Heading>Before you begin...</Heading>\n      <FormContainer onSubmit={handleSubmit}>\n        <FormInputWrapper>\n          <DateInput onChange={handleChange} />\n        </FormInputWrapper>\n        <FormInputWrapper>\n          <DropdownCountries onChange={handleChange} />\n        </FormInputWrapper>\n        <FormInputWrapper>\n          <DropdownGender onChange={handleChange} />\n        </FormInputWrapper>\n        <TextButton type={\"submit\"} text={\"Get started!\"} />\n      </FormContainer>\n    </>\n  );\n\n  // query the airtable to see if we have user's details in our database\n\n  // if we do not\n  // render the signup p2 form to collect the data\n  // send and save the data on the airtable\n\n  // if we do have the details\n  // redirect to the mission page\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}