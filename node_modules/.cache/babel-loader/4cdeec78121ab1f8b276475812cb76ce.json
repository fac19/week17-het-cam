{"ast":null,"code":"var _jsxFileName = \"/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/pages/missionPage/Mission.js\";\nimport React from \"react\";\nimport GetSetReadyGo from \"../../components/missions/getSetReadyGo/GetSetReadyGo.js\";\nimport GetSet from \"../../components/missions/getSet/GetSet\";\nimport Ready from \"../../components/missions/ready/Ready\";\nimport Go from \"../../components/missions/go/Go\";\nimport Heading from \"../../components/global/heading/Heading\";\n\nconst MissionForm = () => {\n  // state goes here\n  // const [activeStep, setActiveStep] = React.useState(0);\n  const [currentMissionObject, setCurrentMissionObject] = React.useState({});\n  const [missionState, setMissionState] = React.useState(\"get\");\n  const missionNumber = window.location.pathname.replace(\"/mission/\", \"\");\n  React.useEffect(() => {\n    const func = async () => {\n      const post = await fetch(`../../../.netlify/functions/fetch-mission/fetch-mission.js?missionNumber=${missionNumber}`);\n      await post.json().then(data => {\n        setCurrentMissionObject(data);\n        console.log(data);\n      });\n    };\n\n    func();\n  }, [missionNumber]); // function for the stepper for Go Page\n  // const handleNext = () => {\n  //   setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  // };\n\n  /* This function should be moved into Go Page\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n   const email = token ? token.email : \"\";\n   const [form, setForm] = React.useState({\n    Email: email,\n    Task1: \"\",\n    Task2a: \"\",\n    Task2b: \"\",\n    Task2c: \"\",\n  });\n   const handleSubmit = async (event) => {\n    event.preventDefault();\n     const response = await fetch(\n      \"../../../.netlify/functions/post-entries/post-entries.js\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify(form),\n      },\n    );\n     await response.json();\n  }; */\n\n  const isLoading = Object.keys(currentMissionObject).length === 0;\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 12\n      }\n    }, \"Loading Mission...\");\n  } else {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GetSetReadyGo, {\n      missionState: missionState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }), missionState === \"get\" && /*#__PURE__*/React.createElement(GetSet, {\n      missionNumber: missionNumber,\n      missionName: currentMissionObject[\"Mission Name\"],\n      superpower: currentMissionObject.Superpower,\n      superpowerIcon: currentMissionObject[\"Superpower Icon\"],\n      getSet: currentMissionObject[\"Get Set\"],\n      video: currentMissionObject.Video,\n      setMissionState: setMissionState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }), missionState === \"ready\" && /*#__PURE__*/React.createElement(Ready, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 38\n      }\n    }), missionState === \"go\" && /*#__PURE__*/React.createElement(Go, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 35\n      }\n    }));\n  }\n};\n\nexport default MissionForm;","map":{"version":3,"sources":["/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/pages/missionPage/Mission.js"],"names":["React","GetSetReadyGo","GetSet","Ready","Go","Heading","MissionForm","currentMissionObject","setCurrentMissionObject","useState","missionState","setMissionState","missionNumber","window","location","pathname","replace","useEffect","func","post","fetch","json","then","data","console","log","isLoading","Object","keys","length","Superpower","Video"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,0DAA1B;AACA,OAAOC,MAAP,MAAmB,yCAAnB;AACA,OAAOC,KAAP,MAAkB,uCAAlB;AACA,OAAOC,EAAP,MAAe,iCAAf;AACA,OAAOC,OAAP,MAAoB,yCAApB;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACxB;AACA;AACA,QAAM,CAACC,oBAAD,EAAuBC,uBAAvB,IAAkDR,KAAK,CAACS,QAAN,CAAe,EAAf,CAAxD;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCX,KAAK,CAACS,QAAN,CAAe,KAAf,CAAxC;AAEA,QAAMG,aAAa,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,OAAzB,CAAiC,WAAjC,EAA8C,EAA9C,CAAtB;AAEAhB,EAAAA,KAAK,CAACiB,SAAN,CAAgB,MAAM;AACpB,UAAMC,IAAI,GAAG,YAAY;AACvB,YAAMC,IAAI,GAAG,MAAMC,KAAK,CACrB,4EAA2ER,aAAc,EADpE,CAAxB;AAIA,YAAMO,IAAI,CAACE,IAAL,GAAYC,IAAZ,CAAkBC,IAAD,IAAU;AAC/Bf,QAAAA,uBAAuB,CAACe,IAAD,CAAvB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,OAHK,CAAN;AAID,KATD;;AAWAL,IAAAA,IAAI;AACL,GAbD,EAaG,CAACN,aAAD,CAbH,EARwB,CAuBxB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,QAAMc,SAAS,GAAGC,MAAM,CAACC,IAAP,CAAYrB,oBAAZ,EAAkCsB,MAAlC,KAA6C,CAA/D;;AAEA,MAAIH,SAAJ,EAAe;AACb,wBAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAP;AACD,GAFD,MAEO;AACL,wBACE,uDACE,oBAAC,aAAD;AAAe,MAAA,YAAY,EAAEhB,YAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEGA,YAAY,KAAK,KAAjB,iBACC,oBAAC,MAAD;AACE,MAAA,aAAa,EAAEE,aADjB;AAEE,MAAA,WAAW,EAAEL,oBAAoB,CAAC,cAAD,CAFnC;AAGE,MAAA,UAAU,EAAEA,oBAAoB,CAACuB,UAHnC;AAIE,MAAA,cAAc,EAAEvB,oBAAoB,CAAC,iBAAD,CAJtC;AAKE,MAAA,MAAM,EAAEA,oBAAoB,CAAC,SAAD,CAL9B;AAME,MAAA,KAAK,EAAEA,oBAAoB,CAACwB,KAN9B;AAOE,MAAA,eAAe,EAAEpB,eAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAaGD,YAAY,KAAK,OAAjB,iBAA4B,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAb/B,EAcGA,YAAY,KAAK,IAAjB,iBAAyB,oBAAC,EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAd5B,CADF;AAkBD;AACF,CAlFD;;AAoFA,eAAeJ,WAAf","sourcesContent":["import React from \"react\";\nimport GetSetReadyGo from \"../../components/missions/getSetReadyGo/GetSetReadyGo.js\";\nimport GetSet from \"../../components/missions/getSet/GetSet\";\nimport Ready from \"../../components/missions/ready/Ready\";\nimport Go from \"../../components/missions/go/Go\";\nimport Heading from \"../../components/global/heading/Heading\";\n\nconst MissionForm = () => {\n  // state goes here\n  // const [activeStep, setActiveStep] = React.useState(0);\n  const [currentMissionObject, setCurrentMissionObject] = React.useState({});\n  const [missionState, setMissionState] = React.useState(\"get\");\n\n  const missionNumber = window.location.pathname.replace(\"/mission/\", \"\");\n\n  React.useEffect(() => {\n    const func = async () => {\n      const post = await fetch(\n        `../../../.netlify/functions/fetch-mission/fetch-mission.js?missionNumber=${missionNumber}`,\n      );\n\n      await post.json().then((data) => {\n        setCurrentMissionObject(data);\n        console.log(data);\n      });\n    };\n\n    func();\n  }, [missionNumber]);\n\n  // function for the stepper for Go Page\n  // const handleNext = () => {\n  //   setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  // };\n\n  /* This function should be moved into Go Page\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n\n  const email = token ? token.email : \"\";\n\n  const [form, setForm] = React.useState({\n    Email: email,\n    Task1: \"\",\n    Task2a: \"\",\n    Task2b: \"\",\n    Task2c: \"\",\n  });\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const response = await fetch(\n      \"../../../.netlify/functions/post-entries/post-entries.js\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify(form),\n      },\n    );\n\n    await response.json();\n  }; */\n\n  const isLoading = Object.keys(currentMissionObject).length === 0;\n\n  if (isLoading) {\n    return <Heading>Loading Mission...</Heading>;\n  } else {\n    return (\n      <>\n        <GetSetReadyGo missionState={missionState} />\n        {missionState === \"get\" && (\n          <GetSet\n            missionNumber={missionNumber}\n            missionName={currentMissionObject[\"Mission Name\"]}\n            superpower={currentMissionObject.Superpower}\n            superpowerIcon={currentMissionObject[\"Superpower Icon\"]}\n            getSet={currentMissionObject[\"Get Set\"]}\n            video={currentMissionObject.Video}\n            setMissionState={setMissionState}\n          />\n        )}\n        {missionState === \"ready\" && <Ready />}\n        {missionState === \"go\" && <Go />}\n      </>\n    );\n  }\n};\n\nexport default MissionForm;\n"]},"metadata":{},"sourceType":"module"}