{"ast":null,"code":"var _jsxFileName = \"/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/pages/missionPage/Mission.js\";\nimport React from \"react\";\nimport GetSetReadyGo from \"../../components/missions/getSetReadyGo/GetSetReadyGo.js\";\nimport GetSet from \"../../components/missions/getSet/GetSet\";\nimport Ready from \"../../components/missions/ready/Ready\";\nimport QuizComplete from \"../../components/missions/quizComplete/QuizComplete\";\nimport Go from \"../../components/missions/go/Go\";\nimport Complete from \"../../components/missions/complete/Complete\";\nimport Heading from \"../../components/global/heading/Heading\";\nimport Navbar from \"../../components/global/navbar/Navbar\";\n\nconst MissionPage = () => {\n  // state goes here\n  const [currentMissionObject, setCurrentMissionObject] = React.useState({});\n  const [quizAnswersCorrect, setQuizAnswersCorrect] = React.useState(\"false\");\n  const [missionState, setMissionState] = React.useState(\"get\");\n  const missionNumber = window.location.pathname.replace(\"/mission/\", \"\");\n  const [userEntry, setUserEntry] = React.useState();\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  const email = token.email; //Checks if user has already made an entry\n\n  React.useEffect(() => {\n    const func = async () => {\n      const fetchResult = await fetch(`../../../.netlify/functions/fetch-entries/fetch-entries.js?email=${email}`);\n      await fetchResult.json().then(data => {\n        setUserEntry(data);\n        console.log(\"data\", data);\n      });\n    };\n\n    func();\n  }, [email]);\n  console.log(\"userEntry\", userEntry); //Fetches mission information\n\n  React.useEffect(() => {\n    const func = async () => {\n      const post = await fetch(`../../../.netlify/functions/fetch-mission/fetch-mission.js?missionNumber=${missionNumber}`);\n      await post.json().then(data => {\n        setCurrentMissionObject(data);\n      });\n    };\n\n    func();\n  }, [missionNumber]);\n  const isLoading = Object.keys(currentMissionObject).length === 0;\n  const userCompleted = userEntry !== undefined;\n\n  if (userCompleted) {\n    return /*#__PURE__*/React.createElement(Heading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 12\n      }\n    }, \"Mission Completed\");\n  } else {\n    if (isLoading) {\n      return /*#__PURE__*/React.createElement(Heading, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 14\n        }\n      }, \"Loading Mission...\");\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }), missionState !== \"quizComplete\" && missionState !== \"complete\" && /*#__PURE__*/React.createElement(GetSetReadyGo, {\n        missionState: missionState,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }), missionState === \"get\" && /*#__PURE__*/React.createElement(GetSet, {\n        missionNumber: missionNumber,\n        missionName: currentMissionObject[\"Mission Name\"],\n        superpower: currentMissionObject.Superpower,\n        superpowerIcon: currentMissionObject[\"Superpower Icon\"],\n        getSet: currentMissionObject[\"Get Set\"],\n        video: currentMissionObject.Video,\n        setMissionState: setMissionState,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }), missionState === \"ready\" && /*#__PURE__*/React.createElement(Ready, {\n        missionNumber: missionNumber,\n        question1: currentMissionObject[\"Question 1\"],\n        question2: currentMissionObject[\"Question 2\"],\n        Question1AnswerChoice: currentMissionObject[\"Answer 1\"],\n        Question1CorrectAnswer: currentMissionObject[\"Correct Answer 1\"],\n        Question2AnswerChoice: currentMissionObject[\"Answer 2\"],\n        Question2CorrectAnswer: currentMissionObject[\"Correct Answer 2\"],\n        setQuizAnswersCorrect: setQuizAnswersCorrect,\n        setMissionState: setMissionState,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }), missionState === \"quizComplete\" && /*#__PURE__*/React.createElement(QuizComplete, {\n        setMissionState: setMissionState,\n        quizAnswersCorrect: quizAnswersCorrect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      }), missionState === \"go\" && /*#__PURE__*/React.createElement(Go, {\n        missionNumber: missionNumber,\n        task1: currentMissionObject[\"Task 1 Instructions\"],\n        task2: currentMissionObject[\"Task 2 Instructions\"],\n        task2a: currentMissionObject[\"Task 2a Question\"],\n        task2b: currentMissionObject[\"Task 2b Question\"],\n        task2c: currentMissionObject[\"Task 2c Question\"],\n        setMissionState: setMissionState,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }), missionState === \"complete\" && /*#__PURE__*/React.createElement(Complete, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 43\n        }\n      }));\n    }\n  }\n};\n\nexport default MissionPage;","map":{"version":3,"sources":["/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/pages/missionPage/Mission.js"],"names":["React","GetSetReadyGo","GetSet","Ready","QuizComplete","Go","Complete","Heading","Navbar","MissionPage","currentMissionObject","setCurrentMissionObject","useState","quizAnswersCorrect","setQuizAnswersCorrect","missionState","setMissionState","missionNumber","window","location","pathname","replace","userEntry","setUserEntry","token","JSON","parse","localStorage","getItem","email","useEffect","func","fetchResult","fetch","json","then","data","console","log","post","isLoading","Object","keys","length","userCompleted","undefined","Superpower","Video"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,0DAA1B;AACA,OAAOC,MAAP,MAAmB,yCAAnB;AACA,OAAOC,KAAP,MAAkB,uCAAlB;AACA,OAAOC,YAAP,MAAyB,qDAAzB;AACA,OAAOC,EAAP,MAAe,iCAAf;AACA,OAAOC,QAAP,MAAqB,6CAArB;AACA,OAAOC,OAAP,MAAoB,yCAApB;AACA,OAAOC,MAAP,MAAmB,uCAAnB;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACxB;AACA,QAAM,CAACC,oBAAD,EAAuBC,uBAAvB,IAAkDX,KAAK,CAACY,QAAN,CAAe,EAAf,CAAxD;AACA,QAAM,CAACC,kBAAD,EAAqBC,qBAArB,IAA8Cd,KAAK,CAACY,QAAN,CAAe,OAAf,CAApD;AACA,QAAM,CAACG,YAAD,EAAeC,eAAf,IAAkChB,KAAK,CAACY,QAAN,CAAe,KAAf,CAAxC;AAEA,QAAMK,aAAa,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,OAAzB,CAAiC,WAAjC,EAA8C,EAA9C,CAAtB;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BvB,KAAK,CAACY,QAAN,EAAlC;AACA,QAAMY,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,QAAMC,KAAK,GAAGL,KAAK,CAACK,KAApB,CATwB,CAWxB;;AACA7B,EAAAA,KAAK,CAAC8B,SAAN,CAAgB,MAAM;AACpB,UAAMC,IAAI,GAAG,YAAY;AACvB,YAAMC,WAAW,GAAG,MAAMC,KAAK,CAC5B,oEAAmEJ,KAAM,EAD7C,CAA/B;AAIA,YAAMG,WAAW,CAACE,IAAZ,GAAmBC,IAAnB,CAAyBC,IAAD,IAAU;AACtCb,QAAAA,YAAY,CAACa,IAAD,CAAZ;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,IAApB;AACD,OAHK,CAAN;AAID,KATD;;AAUAL,IAAAA,IAAI;AACL,GAZD,EAYG,CAACF,KAAD,CAZH;AAaAQ,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBhB,SAAzB,EAzBwB,CA2BxB;;AACAtB,EAAAA,KAAK,CAAC8B,SAAN,CAAgB,MAAM;AACpB,UAAMC,IAAI,GAAG,YAAY;AACvB,YAAMQ,IAAI,GAAG,MAAMN,KAAK,CACrB,4EAA2EhB,aAAc,EADpE,CAAxB;AAIA,YAAMsB,IAAI,CAACL,IAAL,GAAYC,IAAZ,CAAkBC,IAAD,IAAU;AAC/BzB,QAAAA,uBAAuB,CAACyB,IAAD,CAAvB;AACD,OAFK,CAAN;AAGD,KARD;;AAUAL,IAAAA,IAAI;AACL,GAZD,EAYG,CAACd,aAAD,CAZH;AAcA,QAAMuB,SAAS,GAAGC,MAAM,CAACC,IAAP,CAAYhC,oBAAZ,EAAkCiC,MAAlC,KAA6C,CAA/D;AACA,QAAMC,aAAa,GAAGtB,SAAS,KAAKuB,SAApC;;AAEA,MAAID,aAAJ,EAAmB;AACjB,wBAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAP;AACD,GAFD,MAEO;AACL,QAAIJ,SAAJ,EAAe;AACb,0BAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAP;AACD,KAFD,MAEO;AACL,0BACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAGGzB,YAAY,KAAK,cAAjB,IAAmCA,YAAY,KAAK,UAApD,iBACC,oBAAC,aAAD;AAAe,QAAA,YAAY,EAAEA,YAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EAMGA,YAAY,KAAK,KAAjB,iBACC,oBAAC,MAAD;AACE,QAAA,aAAa,EAAEE,aADjB;AAEE,QAAA,WAAW,EAAEP,oBAAoB,CAAC,cAAD,CAFnC;AAGE,QAAA,UAAU,EAAEA,oBAAoB,CAACoC,UAHnC;AAIE,QAAA,cAAc,EAAEpC,oBAAoB,CAAC,iBAAD,CAJtC;AAKE,QAAA,MAAM,EAAEA,oBAAoB,CAAC,SAAD,CAL9B;AAME,QAAA,KAAK,EAAEA,oBAAoB,CAACqC,KAN9B;AAOE,QAAA,eAAe,EAAE/B,eAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPJ,EAiBGD,YAAY,KAAK,OAAjB,iBACC,oBAAC,KAAD;AACE,QAAA,aAAa,EAAEE,aADjB;AAEE,QAAA,SAAS,EAAEP,oBAAoB,CAAC,YAAD,CAFjC;AAGE,QAAA,SAAS,EAAEA,oBAAoB,CAAC,YAAD,CAHjC;AAIE,QAAA,qBAAqB,EAAEA,oBAAoB,CAAC,UAAD,CAJ7C;AAKE,QAAA,sBAAsB,EAAEA,oBAAoB,CAAC,kBAAD,CAL9C;AAME,QAAA,qBAAqB,EAAEA,oBAAoB,CAAC,UAAD,CAN7C;AAOE,QAAA,sBAAsB,EAAEA,oBAAoB,CAAC,kBAAD,CAP9C;AAQE,QAAA,qBAAqB,EAAEI,qBARzB;AASE,QAAA,eAAe,EAAEE,eATnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlBJ,EA8BGD,YAAY,KAAK,cAAjB,iBACC,oBAAC,YAAD;AACE,QAAA,eAAe,EAAEC,eADnB;AAEE,QAAA,kBAAkB,EAAEH,kBAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/BJ,EAoCGE,YAAY,KAAK,IAAjB,iBACC,oBAAC,EAAD;AACE,QAAA,aAAa,EAAEE,aADjB;AAEE,QAAA,KAAK,EAAEP,oBAAoB,CAAC,qBAAD,CAF7B;AAGE,QAAA,KAAK,EAAEA,oBAAoB,CAAC,qBAAD,CAH7B;AAIE,QAAA,MAAM,EAAEA,oBAAoB,CAAC,kBAAD,CAJ9B;AAKE,QAAA,MAAM,EAAEA,oBAAoB,CAAC,kBAAD,CAL9B;AAME,QAAA,MAAM,EAAEA,oBAAoB,CAAC,kBAAD,CAN9B;AAOE,QAAA,eAAe,EAAEM,eAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArCJ,EA+CGD,YAAY,KAAK,UAAjB,iBAA+B,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/ClC,CADF;AAmDD;AACF;AACF,CAxGD;;AA0GA,eAAeN,WAAf","sourcesContent":["import React from \"react\";\nimport GetSetReadyGo from \"../../components/missions/getSetReadyGo/GetSetReadyGo.js\";\nimport GetSet from \"../../components/missions/getSet/GetSet\";\nimport Ready from \"../../components/missions/ready/Ready\";\nimport QuizComplete from \"../../components/missions/quizComplete/QuizComplete\";\nimport Go from \"../../components/missions/go/Go\";\nimport Complete from \"../../components/missions/complete/Complete\";\nimport Heading from \"../../components/global/heading/Heading\";\nimport Navbar from \"../../components/global/navbar/Navbar\";\n\nconst MissionPage = () => {\n  // state goes here\n  const [currentMissionObject, setCurrentMissionObject] = React.useState({});\n  const [quizAnswersCorrect, setQuizAnswersCorrect] = React.useState(\"false\");\n  const [missionState, setMissionState] = React.useState(\"get\");\n\n  const missionNumber = window.location.pathname.replace(\"/mission/\", \"\");\n  const [userEntry, setUserEntry] = React.useState();\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  const email = token.email;\n\n  //Checks if user has already made an entry\n  React.useEffect(() => {\n    const func = async () => {\n      const fetchResult = await fetch(\n        `../../../.netlify/functions/fetch-entries/fetch-entries.js?email=${email}`,\n      );\n\n      await fetchResult.json().then((data) => {\n        setUserEntry(data);\n        console.log(\"data\", data);\n      });\n    };\n    func();\n  }, [email]);\n  console.log(\"userEntry\", userEntry);\n\n  //Fetches mission information\n  React.useEffect(() => {\n    const func = async () => {\n      const post = await fetch(\n        `../../../.netlify/functions/fetch-mission/fetch-mission.js?missionNumber=${missionNumber}`,\n      );\n\n      await post.json().then((data) => {\n        setCurrentMissionObject(data);\n      });\n    };\n\n    func();\n  }, [missionNumber]);\n\n  const isLoading = Object.keys(currentMissionObject).length === 0;\n  const userCompleted = userEntry !== undefined;\n\n  if (userCompleted) {\n    return <Heading>Mission Completed</Heading>;\n  } else {\n    if (isLoading) {\n      return <Heading>Loading Mission...</Heading>;\n    } else {\n      return (\n        <>\n          <Navbar />\n\n          {missionState !== \"quizComplete\" && missionState !== \"complete\" && (\n            <GetSetReadyGo missionState={missionState} />\n          )}\n          {missionState === \"get\" && (\n            <GetSet\n              missionNumber={missionNumber}\n              missionName={currentMissionObject[\"Mission Name\"]}\n              superpower={currentMissionObject.Superpower}\n              superpowerIcon={currentMissionObject[\"Superpower Icon\"]}\n              getSet={currentMissionObject[\"Get Set\"]}\n              video={currentMissionObject.Video}\n              setMissionState={setMissionState}\n            />\n          )}\n          {missionState === \"ready\" && (\n            <Ready\n              missionNumber={missionNumber}\n              question1={currentMissionObject[\"Question 1\"]}\n              question2={currentMissionObject[\"Question 2\"]}\n              Question1AnswerChoice={currentMissionObject[\"Answer 1\"]}\n              Question1CorrectAnswer={currentMissionObject[\"Correct Answer 1\"]}\n              Question2AnswerChoice={currentMissionObject[\"Answer 2\"]}\n              Question2CorrectAnswer={currentMissionObject[\"Correct Answer 2\"]}\n              setQuizAnswersCorrect={setQuizAnswersCorrect}\n              setMissionState={setMissionState}\n            />\n          )}\n          {missionState === \"quizComplete\" && (\n            <QuizComplete\n              setMissionState={setMissionState}\n              quizAnswersCorrect={quizAnswersCorrect}\n            />\n          )}\n          {missionState === \"go\" && (\n            <Go\n              missionNumber={missionNumber}\n              task1={currentMissionObject[\"Task 1 Instructions\"]}\n              task2={currentMissionObject[\"Task 2 Instructions\"]}\n              task2a={currentMissionObject[\"Task 2a Question\"]}\n              task2b={currentMissionObject[\"Task 2b Question\"]}\n              task2c={currentMissionObject[\"Task 2c Question\"]}\n              setMissionState={setMissionState}\n            />\n          )}\n          {missionState === \"complete\" && <Complete />}\n        </>\n      );\n    }\n  }\n};\n\nexport default MissionPage;\n"]},"metadata":{},"sourceType":"module"}