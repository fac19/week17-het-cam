{"ast":null,"code":"var _jsxFileName = \"/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/components/missions/go/Go.js\";\nimport React from \"react\";\nimport Links from \"../../../components/global/links/Links\";\nimport { TextButton } from \"../../global/buttons/Buttons\";\nimport { FormContainer, FormInputWrapper } from \"./Go.style\";\nimport TextArea from \"../../global/forms/textArea/TextArea\";\nimport Steps from \"../steps/Steps\";\nimport Paragraph from \"../../../components/global/paragraph/Paragraph\";\nimport Subheading from \"../../../components/global/subheading/Subheading\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { accentColour, linkColour } from \"../../../components/global/colours\";\nconst useStyles = makeStyles({\n  links: {\n    fontFamily: \"Josefin Sans, sans-serif\",\n    transition: \"all 0.2s ease-in-out\",\n    color: linkColour,\n    textDecoration: \"underline\",\n    fontSize: \"1.5rem\",\n    \"&:hover\": {\n      fontSize: \"1.8rem\",\n      color: accentColour\n    }\n  }\n});\n\nconst Go = props => {\n  const classes = useStyles();\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  const email = token ? token.email : \"\";\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [file, setUploadedFile] = React.useState(\"\");\n  const [form, setForm] = React.useState({\n    Email: email,\n    Task1: file,\n    Task2a: \"\",\n    Task2b: \"\",\n    Task2c: \"\"\n  });\n\n  const uploadImage = () => {\n    window.cloudinary.openUploadWidget({\n      cloudName: \"teach-a-man-to-fish\",\n      uploadPreset: \"TAMTF2020\",\n      sources: [\"local\", \"google_drive\", \"facebook\"],\n      cropping: true,\n      multiple: false,\n      defaultSource: \"local\",\n      styles: {\n        palette: {\n          window: \"#F5F5F5\",\n          sourceBg: \"#FFFFFF\",\n          windowBorder: \"#90a0b3\",\n          tabIcon: \"#0094c7\",\n          inactiveTabIcon: \"#69778A\",\n          menuIcons: \"#0094C7\",\n          link: \"#53ad9d\",\n          action: \"#8F5DA5\",\n          inProgress: \"#0194c7\",\n          complete: \"#53ad9d\",\n          error: \"#c43737\",\n          textDark: \"#000000\",\n          textLight: \"#FFFFFF\"\n        }\n      }\n    }, (error, result) => {\n      if (!error && result && result.event === \"success\") {\n        const url = result.info.url;\n        console.log(result);\n        setForm({ ...form,\n          Task1: url\n        });\n        setUploadedFile(url);\n      }\n    });\n  };\n\n  const [buttonState, setButtonState] = React.useState(true);\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForm({ ...form,\n      [name]: value\n    });\n\n    if (activeStep === 1) {\n      if (form.Task2a !== \"\" && form.Task2b !== \"\" && form.Task2c !== \"\") {\n        setButtonState(false);\n      }\n    }\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const response = await fetch(\"../../../.netlify/functions/post-entries/post-entries.js\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(form)\n    });\n    await response.json();\n  }; // function for the stepper for Go Page\n\n\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const missionSite = `/mission/${props.missionNumber}`;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Steps, {\n    activeStep: activeStep,\n    handleNext: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FormContainer, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, activeStep === 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Subheading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"Task 1\"), /*#__PURE__*/React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, props.task1), /*#__PURE__*/React.createElement(TextButton, {\n    text: \"Upload your image\",\n    onClick: uploadImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextButton, {\n    text: \"Go To Next Task\",\n    onClick: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  })), activeStep === 1 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Subheading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Task 2\"), /*#__PURE__*/React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, props.task2), /*#__PURE__*/React.createElement(FormInputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    name: \"Task2a\",\n    label: props.task2a,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormInputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    name: \"Task2b\",\n    label: props.task2b,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormInputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    name: \"Task2c\",\n    label: props.task2c,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(TextButton, {\n    disabled: buttonState,\n    text: \"Go to mission review\",\n    onClick: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  })), activeStep === 2 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Subheading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, \"Task 1\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: form.Task1,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Subheading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, \"Task 2\"), /*#__PURE__*/React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, \"1. \", form.Task2a), /*#__PURE__*/React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, \"2. \", form.Task2b), /*#__PURE__*/React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, \"3. \", form.Task2c), /*#__PURE__*/React.createElement(TextButton, {\n    type: \"submit\",\n    text: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Links, {\n    onClick: () => props.setMissionState(\"get\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }, \"Restart mission\"));\n};\n\nexport default Go;","map":{"version":3,"sources":["/home/hettiemcc/documents/fac/projects/teach-fish-frontend/src/components/missions/go/Go.js"],"names":["React","Links","TextButton","FormContainer","FormInputWrapper","TextArea","Steps","Paragraph","Subheading","makeStyles","accentColour","linkColour","useStyles","links","fontFamily","transition","color","textDecoration","fontSize","Go","props","classes","token","JSON","parse","localStorage","getItem","email","activeStep","setActiveStep","useState","file","setUploadedFile","form","setForm","Email","Task1","Task2a","Task2b","Task2c","uploadImage","window","cloudinary","openUploadWidget","cloudName","uploadPreset","sources","cropping","multiple","defaultSource","styles","palette","sourceBg","windowBorder","tabIcon","inactiveTabIcon","menuIcons","link","action","inProgress","complete","error","textDark","textLight","result","event","url","info","console","log","buttonState","setButtonState","handleChange","name","value","target","handleSubmit","preventDefault","response","fetch","method","headers","body","stringify","json","handleNext","prevActiveStep","missionSite","missionNumber","task1","task2","task2a","task2b","task2c","setMissionState"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Links from \"../../../components/global/links/Links\";\n\nimport { TextButton } from \"../../global/buttons/Buttons\";\nimport { FormContainer, FormInputWrapper } from \"./Go.style\";\nimport TextArea from \"../../global/forms/textArea/TextArea\";\nimport Steps from \"../steps/Steps\";\nimport Paragraph from \"../../../components/global/paragraph/Paragraph\";\nimport Subheading from \"../../../components/global/subheading/Subheading\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { accentColour, linkColour } from \"../../../components/global/colours\";\n\nconst useStyles = makeStyles({\n  links: {\n    fontFamily: \"Josefin Sans, sans-serif\",\n    transition: \"all 0.2s ease-in-out\",\n    color: linkColour,\n    textDecoration: \"underline\",\n    fontSize: \"1.5rem\",\n    \"&:hover\": {\n      fontSize: \"1.8rem\",\n      color: accentColour,\n    },\n  },\n});\n\nconst Go = (props) => {\n  const classes = useStyles();\n\n  const token = JSON.parse(localStorage.getItem(\"token\"));\n  const email = token ? token.email : \"\";\n\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [file, setUploadedFile] = React.useState(\"\");\n  const [form, setForm] = React.useState({\n    Email: email,\n    Task1: file,\n    Task2a: \"\",\n    Task2b: \"\",\n    Task2c: \"\",\n  });\n\n  const uploadImage = () => {\n    window.cloudinary.openUploadWidget(\n      {\n        cloudName: \"teach-a-man-to-fish\",\n        uploadPreset: \"TAMTF2020\",\n        sources: [\"local\", \"google_drive\", \"facebook\"],\n        cropping: true,\n        multiple: false,\n        defaultSource: \"local\",\n        styles: {\n          palette: {\n            window: \"#F5F5F5\",\n            sourceBg: \"#FFFFFF\",\n            windowBorder: \"#90a0b3\",\n            tabIcon: \"#0094c7\",\n            inactiveTabIcon: \"#69778A\",\n            menuIcons: \"#0094C7\",\n            link: \"#53ad9d\",\n            action: \"#8F5DA5\",\n            inProgress: \"#0194c7\",\n            complete: \"#53ad9d\",\n            error: \"#c43737\",\n            textDark: \"#000000\",\n            textLight: \"#FFFFFF\",\n          },\n        },\n      },\n\n      (error, result) => {\n        if (!error && result && result.event === \"success\") {\n          const url = result.info.url;\n          console.log(result);\n          setForm({ ...form, Task1: url });\n          setUploadedFile(url);\n        }\n      },\n    );\n  };\n  const [buttonState, setButtonState] = React.useState(true);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setForm({ ...form, [name]: value });\n    if (activeStep === 1) {\n      if (form.Task2a !== \"\" && form.Task2b !== \"\" && form.Task2c !== \"\") {\n        setButtonState(false);\n      }\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const response = await fetch(\n      \"../../../.netlify/functions/post-entries/post-entries.js\",\n      {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify(form),\n      },\n    );\n\n    await response.json();\n  };\n\n  // function for the stepper for Go Page\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const missionSite = `/mission/${props.missionNumber}`;\n\n  return (\n    <>\n      <Steps activeStep={activeStep} handleNext={handleNext} />\n      <FormContainer onSubmit={handleSubmit}>\n        {activeStep === 0 && (\n          <>\n            <Subheading>Task 1</Subheading>\n            <Paragraph>{props.task1}</Paragraph>\n            <TextButton text={\"Upload your image\"} onClick={uploadImage} />\n            <TextButton text={\"Go To Next Task\"} onClick={handleNext} />\n          </>\n        )}\n        {activeStep === 1 && (\n          <>\n            <Subheading>Task 2</Subheading>\n            <Paragraph>{props.task2}</Paragraph>\n            <FormInputWrapper>\n              <TextArea\n                name={\"Task2a\"}\n                label={props.task2a}\n                onChange={handleChange}\n              />\n            </FormInputWrapper>\n            <FormInputWrapper>\n              <TextArea\n                name={\"Task2b\"}\n                label={props.task2b}\n                onChange={handleChange}\n              />\n            </FormInputWrapper>\n            <FormInputWrapper>\n              <TextArea\n                name={\"Task2c\"}\n                label={props.task2c}\n                onChange={handleChange}\n              />\n            </FormInputWrapper>\n            <TextButton\n              disabled={buttonState}\n              text={\"Go to mission review\"}\n              onClick={handleNext}\n            />\n          </>\n        )}\n        {activeStep === 2 && (\n          <>\n            <Subheading>Task 1</Subheading>\n            <img src={form.Task1} alt=\"\" />\n            <Subheading>Task 2</Subheading>\n            <Paragraph>1. {form.Task2a}</Paragraph>\n            <Paragraph>2. {form.Task2b}</Paragraph>\n            <Paragraph>3. {form.Task2c}</Paragraph>\n            <TextButton type={\"submit\"} text={\"Submit\"} />\n          </>\n        )}\n      </FormContainer>\n      <Links\n        onClick={() => props.setMissionState(\"get\")}>\n        Restart mission\n      </Links>\n    </>\n  );\n};\n\nexport default Go;\n"]},"metadata":{},"sourceType":"module"}